<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente Virtual</title>
    <style>
        /* Estilos generales para la página */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Define la fuente para toda la página */
            margin: 0;                                                    /* Elimina los márgenes predeterminados */
            padding: 0;                                                   /* Elimina el relleno predeterminado */
            background-color: #f5f5f5;                                    /* Color de fondo gris claro */
            color: #333;                                                  /* Color de texto principal */
        }
        
        /* Contenedor principal que limita el ancho y centra el contenido */
        .container {
            max-width: 800px;                                            /* Ancho máximo del contenedor */
            margin: 0 auto;                                              /* Centra el contenedor horizontalmente */
            padding: 20px;                                               /* Espacio interior */
        }
        
        /* Contenedor del chat */
        .chat-container {
            background-color: white;                                     /* Fondo blanco para el área de chat */
            border-radius: 10px;                                         /* Esquinas redondeadas */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);                   /* Sombra sutil */
            overflow: hidden;                                            /* Oculta contenido que desborda */
        }
        
        /* Encabezado del chat */
        .chat-header {
            background-color: #4a6fa5;                                   /* Color de fondo azul */
            color: white;                                                /* Texto en color blanco */
            padding: 15px 20px;                                          /* Relleno interior */
            font-size: 18px;                                             /* Tamaño de texto */
            font-weight: bold;                                           /* Texto en negrita */
        }
        
        /* Área donde se muestran los mensajes */
        .chat-messages {
            height: 400px;                                               /* Altura fija del área de mensajes */
            overflow-y: auto;                                            /* Barra de desplazamiento vertical automática */
            padding: 20px;                                               /* Relleno interior */
            display: flex;                                               /* Usa flexbox para organizar mensajes */
            flex-direction: column;                                      /* Organiza elementos en columna */
        }
        
        /* Estilo común para todos los mensajes */
        .message {
            margin-bottom: 15px;                                         /* Espacio entre mensajes */
            max-width: 80%;                                              /* Ancho máximo del mensaje */
            padding: 10px 15px;                                          /* Relleno interior */
            border-radius: 18px;                                         /* Esquinas muy redondeadas (estilo burbuja) */
            line-height: 1.4;                                            /* Espaciado entre líneas */
        }
        
        /* Estilo específico para mensajes del usuario */
        .user-message {
            align-self: flex-end;                                        /* Alinea a la derecha */
            background-color: #e3f2fd;                                   /* Fondo azul claro */
        }
        
        /* Estilo específico para mensajes del bot */
        .bot-message {
            align-self: flex-start;                                      /* Alinea a la izquierda */
            background-color: #f1f1f1;                                   /* Fondo gris claro */
        }
        
        /* Área de entrada de texto */
        .input-area {
            display: flex;                                               /* Usa flexbox para organizar elementos */
            padding: 15px;                                               /* Relleno interior */
            background-color: #f9f9f9;                                   /* Fondo gris muy claro */
            border-top: 1px solid #eee;                                  /* Borde superior sutil */
        }
        
        /* Campo de entrada de texto */
        #user-input {
            flex-grow: 1;                                                /* Ocupa todo el espacio disponible */
            padding: 12px 15px;                                          /* Relleno interior */
            border: 1px solid #ddd;                                      /* Borde gris claro */
            border-radius: 20px;                                         /* Esquinas muy redondeadas */
            outline: none;                                               /* Elimina el contorno al enfocar */
            font-size: 15px;                                             /* Tamaño de texto */
        }
        
        /* Botón de enviar */
        #send-button {
            background-color: #4a6fa5;                                   /* Fondo azul (igual al encabezado) */
            color: white;                                                /* Texto en color blanco */
            border: none;                                                /* Sin borde */
            border-radius: 20px;                                         /* Esquinas muy redondeadas */
            padding: 0 20px;                                             /* Relleno interior horizontal */
            margin-left: 10px;                                           /* Margen izquierdo */
            cursor: pointer;                                             /* Cursor de mano al pasar por encima */
            font-size: 15px;                                             /* Tamaño de texto */
            transition: background-color 0.3s;                           /* Transición suave del color de fondo */
        }
        
        /* Estilo al pasar el cursor sobre el botón */
        #send-button:hover {
            background-color: #3a5a80;                                   /* Azul más oscuro */
        }
        
        /* Indicador de escritura (los puntos animados) */
        .typing-indicator {
            display: none;                                               /* Oculto por defecto */
            align-self: flex-start;                                      /* Alinea a la izquierda */
            background-color: #f1f1f1;                                   /* Mismo fondo que mensajes del bot */
            padding: 10px 15px;                                          /* Relleno interior */
            border-radius: 18px;                                         /* Esquinas redondeadas */
            margin-bottom: 15px;                                         /* Espacio inferior */
        }
        
        /* Contenedor de los puntos animados */
        .typing-dots {
            display: inline-block;                                       /* Comportamiento en línea pero con propiedades de bloque */
        }
        
        /* Cada punto individual */
        .typing-dot {
            display: inline-block;                                       /* Comportamiento en línea pero con propiedades de bloque */
            width: 8px;                                                  /* Ancho del punto */
            height: 8px;                                                 /* Altura del punto */
            border-radius: 50%;                                          /* Forma circular */
            background-color: #666;                                      /* Color gris */
            margin-right: 3px;                                           /* Espacio entre puntos */
            animation: typing-dot-pulse 1.5s infinite ease-in-out;       /* Animación pulsante */
        }
        
        /* Retardo de animación para el segundo punto */
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;                                       /* Retrasa la animación */
        }
        
        /* Retardo de animación para el tercer punto y sin margen derecho */
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;                                       /* Retrasa la animación más */
            margin-right: 0;                                             /* Elimina el margen derecho */
        }
        
        /* Definición de la animación para los puntos */
        @keyframes typing-dot-pulse {
            0%, 60%, 100% { transform: translateY(0); }                  /* Posición inicial y final */
            30% { transform: translateY(-5px); }                         /* Salta hacia arriba */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Asistente Virtual</h1>
        <p>Haz cualquier pregunta y nuestro asistente te responderá.</p>
        
        <div class="chat-container">
            <div class="chat-header">
                Conversación con el Asistente
            </div>
            <div class="chat-messages" id="chat-messages">
                <!-- Mensaje inicial del bot -->
                <div class="message bot-message">
                    Hola, soy tu asistente virtual. ¿En qué puedo ayudarte hoy?
                </div>
                <!-- Indicador de escritura (tres puntos animados) -->
                <div class="typing-indicator" id="typing-indicator">
                    <div class="typing-dots">
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                    </div>
                </div>
            </div>
            <div class="input-area">
                <input type="text" id="user-input" placeholder="Escribe tu pregunta aquí..." autocomplete="off">
                <button id="send-button">Enviar</button>
            </div>
        </div>
    </div>

    <script>
        // Diccionario de respuestas predefinidas basadas en palabras clave
        // Cuando el mensaje del usuario contiene alguna de estas palabras, se usa la respuesta correspondiente
        const responses = {
            'hola': 'Hola, ¿en qué puedo ayudarte?',
            'ayuda': 'Puedo responder preguntas sobre diversos temas. Solo pregúntame lo que necesites.',
            'tiempo': 'Lo siento, no tengo acceso a información en tiempo real sobre el clima.',
            'nombre': 'Soy un asistente virtual creado para ayudarte con tus consultas.',
            'gracias': 'De nada, estoy aquí para ayudarte. ¿Hay algo más en lo que pueda asistirte?',
            'adiós': 'Hasta luego. ¡Que tengas un buen día!',
            'default': 'Interesante pregunta. Permíteme procesar eso. Basado en mi conocimiento, podría decir que...'
        };

        // Diccionario de respuestas específicas para preguntas completas
        // Cuando el mensaje del usuario coincide exactamente con alguna de estas preguntas, se usa la respuesta correspondiente
        const specificResponses = {
            '¿qué es inteligencia artificial?': 'La inteligencia artificial (IA) es la simulación de procesos de inteligencia humana por parte de máquinas, especialmente sistemas informáticos. Estos procesos incluyen el aprendizaje, el razonamiento y la autocorrección.',
            '¿cómo funciona un asistente virtual?': 'Los asistentes virtuales como yo funcionan mediante algoritmos de procesamiento de lenguaje natural (NLP) que analizan el texto ingresado, identifican la intención del usuario y generan respuestas apropiadas basadas en patrones y datos previamente aprendidos.',
            '¿qué puedes hacer?': 'Puedo responder preguntas, proporcionar información sobre diversos temas, ayudar con tareas simples como cálculos, y mantener una conversación. Sin embargo, no tengo acceso a internet en tiempo real ni puedo realizar acciones físicas.',
            '¿quién te creó?': 'Fui creado como parte de un proyecto de demostración para mostrar cómo funciona una interfaz de chat con un asistente virtual.',
        };

        // Obtener referencias a los elementos del DOM que necesitamos manipular
        const messagesContainer = document.getElementById('chat-messages');  // Contenedor de mensajes
        const userInput = document.getElementById('user-input');             // Campo de entrada de texto
        const sendButton = document.getElementById('send-button');           // Botón de enviar
        const typingIndicator = document.getElementById('typing-indicator'); // Indicador de escritura

        // Función para añadir un mensaje al chat (tanto del usuario como del bot)
        function addMessage(text, isUser) {
            // Crear un nuevo elemento div para el mensaje
            const messageDiv = document.createElement('div');
            
            // Añadir las clases necesarias según si es un mensaje del usuario o del bot
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
            
            // Establecer el texto del mensaje
            messageDiv.textContent = text;
            
            // Insertar el mensaje antes del indicador de escritura
            // (esto asegura que el indicador siempre sea el último elemento)
            messagesContainer.insertBefore(messageDiv, typingIndicator);
            
            // Hacer scroll hasta el final del contenedor para mostrar el mensaje más reciente
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Función para mostrar el indicador de escritura (cuando el bot está "pensando")
        function showTyping() {
            typingIndicator.style.display = 'block';  // Hacer visible el indicador
            messagesContainer.scrollTop = messagesContainer.scrollHeight;  // Scroll al final
        }

        // Función para ocultar el indicador de escritura (cuando el bot ha respondido)
        function hideTyping() {
            typingIndicator.style.display = 'none';  // Ocultar el indicador
        }

        // Función principal para procesar la entrada del usuario
        function processUserInput() {
            // Obtener el texto escrito por el usuario y eliminar espacios en blanco
            const userText = userInput.value.trim();
            
            // Si el campo está vacío, no hacer nada
            if (userText === '') return;
            
            // Agregar el mensaje del usuario al chat
            addMessage(userText, true);
            
            // Limpiar el campo de entrada
            userInput.value = '';
            
            // Mostrar indicador de escritura (simular que el bot está "pensando")
            showTyping();
            
            // Simular tiempo de procesamiento (1.5 segundos)
            setTimeout(() => {
                // Variable para almacenar la respuesta
                let response;
                
                // Convertir el texto del usuario a minúsculas para facilitar la comparación
                const normalizedInput = userText.toLowerCase();
                
                // Primero buscar en respuestas específicas exactas
                if (specificResponses[normalizedInput]) {
                    response = specificResponses[normalizedInput];
                } else {
                    // Si no hay respuesta específica, buscar palabras clave
                    let foundKeyword = false;
                    
                    // Recorrer todas las palabras clave
                    for (const keyword in responses) {
                        // Verificar si el mensaje contiene la palabra clave
                        if (normalizedInput.includes(keyword)) {
                            response = responses[keyword];
                            foundKeyword = true;
                            break;  // Salir del bucle cuando encuentra la primera coincidencia
                        }
                    }
                    
                    // Si no se encontró ninguna palabra clave, usar respuestas predeterminadas
                    if (!foundKeyword) {
                        // Array de posibles respuestas genéricas
                        const defaultResponses = [
                            // Incluyendo parte del texto del usuario para personalizar la respuesta
                            `Sobre "${userText.substring(0, 30)}${userText.length > 30 ? '...' : ''}", puedo decirte que esta es una pregunta interesante. Basado en mi conocimiento, podría sugerir que explores más sobre este tema.`,
                            `He analizado tu pregunta sobre "${userText.substring(0, 25)}${userText.length > 25 ? '...' : ''}". Esta es un área que requiere consideración. Si tienes una pregunta más específica, intentaré ayudarte mejor.`,
                            `Tu consulta es interesante. Para responder adecuadamente sobre "${userText.substring(0, 20)}${userText.length > 20 ? '...' : ''}", necesitaría más contexto. ¿Podrías proporcionar más detalles?`
                        ];
                        
                        // Elegir una respuesta aleatoria del array
                        response = defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
                    }
                }
                
                // Ocultar el indicador de escritura y mostrar la respuesta
                hideTyping();
                addMessage(response, false);
            }, 1500); // Tiempo de espera de 1.5 segundos
        }

        // Configurar event listeners para interacción del usuario
        
        // Cuando se hace clic en el botón de enviar
        sendButton.addEventListener('click', processUserInput);
        
        // Cuando se presiona Enter en el campo de entrada
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                processUserInput();
            }
        });

        // Al cargar la página, poner el foco en el campo de entrada
        window.onload = () => {
            userInput.focus();
        };
    </script>
</body>
</html>